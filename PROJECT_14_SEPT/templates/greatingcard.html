<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Happy Birthday!</title>
<link rel="stylesheet" href="./static/css/style_gc.css" />
</head>
<body>

<h1>Selamat Ulang Tahun Nakeithaa!</h1>
<div id="main-message">Selamat Yaaa! Udah Umur 15 nihh, nakei tambah tua akupun tambah makin mirip kayak om-om beneran hehe </div>
<button id="show-personal-btn">buat si maniez nakei dari om tama ðŸ’Œ</button>
<div id="personal-message" title="Klik pesan ini untuk menyembunyikan pesan"></div>
<a href="/">
  <button>Kalo udah selesai bacanya pencet ini kei</button>
</a>


<audio id="birthday-song" autoplay>
  <source src="https://cdn.pixabay.com/download/audio/2021/09/24/audio_9f907abbaa.mp3?filename=happy-birthday-song-1-13394.mp3" type="audio/mpeg">
  Browser kamu tidak mendukung audio.
</audio>

<div id="emoji-bg"></div>

<script>
  const personalBtn = document.getElementById('show-personal-btn');
  const personalMsg = document.getElementById('personal-message');
  const STORAGE_KEY = "birthdayPersonalMessage";

  const personalGreeting = `Haiii nakeii temanku tercinta, selamat yaa atas bertambahnya usia, aku ga tau mau ngetik apa, intinya cuma mau
manjangin teksnya aja sih hehe, apa ya semoga dengan bertambahnya usia nakei jadi tambah baik, tambah pinter, tambah cantik.., pokonya tambah-tambah 
sama hal yang baik-baik, doa sendiri deh... nanti aku amininn dari kos"an ku, klo aku udah ngekos hehe, aku ngetik ini tanggal 31 juli. terima kasih udah jadi temen/sahabat/apapun namanya itu makasih hehe. semoga semua mimpi"mu tercapai dan selalu diberi rasa kebahagiaan dimanapun. 
Selamat ulang tahun! ðŸ’–\n\nDari KODOMO\n~Teman Baikmu~`;


  // Fungsi toggle pesan khusus dan simpan status di localStorage
  function toggleMessage() {
    if (personalMsg.textContent === personalGreeting) {
      // Sembunyikan pesan dan hapus di localStorage
      personalMsg.textContent = '';
      localStorage.removeItem(STORAGE_KEY);
      personalBtn.textContent = 'Pencet lagi klo mau baca pesen dari om hehe ðŸ’Œ';
    } else {
      // Tampilkan pesan dan simpan di localStorage
      personalMsg.textContent = personalGreeting;
      localStorage.setItem(STORAGE_KEY, personalGreeting);
      personalBtn.textContent = 'Pencet lagi klo mau diumpetin keii';
    }
  }

  personalBtn.addEventListener('click', toggleMessage);

  // Klik pada pesan untuk menghilangkan pesan (toggle)
  personalMsg.addEventListener('click', toggleMessage);

  // Saat halaman dimuat, cek pesan tersimpan di localStorage
  document.addEventListener('DOMContentLoaded', () => {
    const savedMessage = localStorage.getItem(STORAGE_KEY);
    if (savedMessage) {
      personalMsg.textContent = savedMessage;
      personalBtn.textContent = 'Pencet lagi klo mau diumpetin keii';
    }
    personalBtn.focus();
  });

  // Animasi Emoji Background
  const emojiList = ['ðŸŽ‚', 'ðŸŽ', 'ðŸŽ‰', 'ðŸŽ€', 'ðŸ’—', 'ðŸ¥³'];
  const emojiBg = document.getElementById('emoji-bg');

  function createEmoji() {
    const emoji = document.createElement('div');
    emoji.classList.add('emoji');

    // Pilih emoji random dari daftar
    emoji.textContent = emojiList[Math.floor(Math.random() * emojiList.length)];

    // Posisi horizontal random (0% - 95%)
    emoji.style.left = Math.random() * 95 + 'vw';

    // Durasi animasi fall random antara 6-12 detik
    emoji.style.animationDuration = (6 + Math.random() * 6) + 's, 3s';

    emojiBg.appendChild(emoji);

    // Hapus emoji setelah animasi selesai (maks 12 detik)
    setTimeout(() => {
      emoji.remove();
    }, 12000);
  }

  // Buat emoji baru setiap 800ms
  setInterval(createEmoji, 800);
</script>

</body>
</html>
